!function(){function e(){let e;const n={scale:.85,delay:150,anchorOnly:!0,alignLeft:!1};window.nwdbConfig&&(window.nwdbConfig.hasOwnProperty("scale")&&(n.scale=window.nwdbConfig.scale),window.nwdbConfig.hasOwnProperty("delay")&&(n.delay=window.nwdbConfig.delay),window.nwdbConfig.hasOwnProperty("anchorOnly")&&(n.anchorOnly=window.nwdbConfig.anchorOnly),window.nwdbConfig.hasOwnProperty("alignLeft")&&(n.alignLeft=window.nwdbConfig.alignLeft));const t=document.createElement("iframe");t.scrolling="no",t.sandbox="allow-scripts allow-popups allow-same-origin",t.style.opacity=0,t.style.position="fixed",t.style.height="500px",t.style.width="416px",t.style.zIndex=-100,t.style.pointerEvents="none",t.style.transform="scale("+n.scale+")",t.style.transformOrigin="top left",t.style.marginLeft="15px",t.style.boxShadow="0px 0px 0px 1px rgba(0,0,0,0.75)",t.style.webkitBoxShadow="0px 0px 0px 1px rgba(0,0,0,0.75)",t.style.border="none";let i,o,d,s,a,r=!1;function l(n){n.url?async function(n){const i=n.url;e=i;try{document.body.removeChild(t)}catch(e){}document.body.appendChild(t),r=!0;let o=new URL(i);o.searchParams.set("embed","true"),n.gs&&o.searchParams.set("gs",n.gs),n.perks&&o.searchParams.set("perks",n.perks),"blissful-bell-d04f3c.netlify.app"===window.location.host&&o.searchParams.set("mode","minimal"),t.src=o.toString(),setTimeout(f,0)}(n):w()}window.addEventListener("message",(function(e){let n=e.data;n&&"nwdb-embed-resize"===n.type&&(t.style.height=n.height+0+"px",r&&(f(),t.style.opacity=1,t.style.zIndex=9e4))}),!1);const c="ontouchstart"in document.documentElement&&/mobi/i.test(navigator.userAgent);function w(){if(r){t.removeAttribute("src"),r=!1,t.style.opacity=0,t.style.zIndex=-100;try{document.body.removeChild(t)}catch(e){}}}function f(){if(!t)return;s=o,a=d;const e=t.offsetHeight*n.scale,i=t.offsetWidth*n.scale+15;n.alignLeft&&(s-=i),a+e>window.innerHeight&&(a=window.innerHeight-e),n.alignLeft?s<0&&(s=-15):s+i>window.innerWidth&&(s=window.innerWidth-i),t.style.top=a+"px",t.style.left=s+"px"}window.addEventListener("mousemove",(function(t){if(c)return;o=t.clientX,d=t.clientY;const s=function(e){for(;e&&"A"!==e.nodeName.toUpperCase()&&"AREA"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e){const n=e.href;if(n&&(n.includes("nwdb.info/db/item/")||n.includes("nwdb.info/db/perk/")||n.includes("nwdb.info/db/ability/")||n.includes("nwdb.info/db/quest/")||n.includes("nwdb.info/db/recipe/")||n.includes("nwdb.info/db/gatherable/")||n.includes("nwdb.info/db/status-effect/")||n.includes("nwdb.info/db/npc/")||n.includes("nwdb.info/db/creature/")))return{url:n,gs:e.getAttribute("data-nwdb-gs"),perks:e.getAttribute("data-nwdb-perks")}}return!1}(t.target);s.url?(clearTimeout(i),i=setTimeout((()=>{s.url!==e&&w(),r||l(s)}),n.delay),f()):(clearTimeout(i),w())}))}"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",(function(n){e()}))}();